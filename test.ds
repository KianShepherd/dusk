include "bignum.ds"

fn fact_tail(n: float, acc: BigFloat) -> BigFloat {
    if (n < 2.0) {
        return acc;
    }
    return fact_tail(n - 1.0, n * acc);
}

fn fact(n: float) -> BigFloat{
    return fact_tail(n, BigFloat(1.0));
}

fn main(argc: int, argv: string*) -> int {
    for (let mut i: int = 0; i < 40; i++) {
        println(fact(itof(i)));
    }
    return 0;
}
